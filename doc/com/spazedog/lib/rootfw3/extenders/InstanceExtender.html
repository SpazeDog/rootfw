<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Aug 16 09:52:59 CEST 2013 -->
<title>InstanceExtender</title>
<meta name="date" content="2013-08-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="InstanceExtender";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstanceExtender.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/spazedog/lib/rootfw3/extenders/FileExtender.FileData.html" title="class in com.spazedog.lib.rootfw3.extenders"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.InstanceRootFW.html" title="class in com.spazedog.lib.rootfw3.extenders"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/spazedog/lib/rootfw3/extenders/InstanceExtender.html" target="_top">Frames</a></li>
<li><a href="InstanceExtender.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.spazedog.lib.rootfw3.extenders</div>
<h2 title="Class InstanceExtender" class="title">Class InstanceExtender</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.spazedog.lib.rootfw3.extenders.InstanceExtender</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/spazedog/lib/rootfw3/interfaces/ExtenderGroup.html" title="interface in com.spazedog.lib.rootfw3.interfaces">ExtenderGroup</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">InstanceExtender</span>
extends java.lang.Object
implements <a href="../../../../../com/spazedog/lib/rootfw3/interfaces/ExtenderGroup.html" title="interface in com.spazedog.lib.rootfw3.interfaces">ExtenderGroup</a></pre>
<div class="block">This class is used to share the same RootFW instance across multiple classes and methods. It stores the instance in a static property, until some method disconnects from the shell.
 <br />
 It also has the option to lock a connection, which makes sure that it is not disconnected until it get's unlocked again. Each time lock is called, a additional lock is added, making it possible for multiple methods to keep a lock on the connection. First until all locks are removed can the connection be closed. This ensures that any method can call disconnect, without first checking if others are using the connection.
 <br />
 As this class is an extender, is should not be called directly. Instead use the static methods RootFW.userInstance() and RootFW.rootInstance() to get one of the shared instances.
 
 <dl>
 <dt><span class="strong">Example:</span></dt>
 <dd><code><pre>
 RootFW root = RootFW.rootInstance().lock().get();
 
 if (root.isConnected()) {
     // ... Call other classes or methods which might also be using the shared instance ...
     
     RootFW.rootInstance().unlock().disconnect();
 }
 </pre></code></dd>
 </dl></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.InstanceRootFW.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender.InstanceRootFW</a></strong></code>
<div class="block">This is an extended class of the RootFW class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Integer</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#mInstance">mInstance</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.InstanceRootFW.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender.InstanceRootFW</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#oInstances">oInstances</a></strong></code>
<div class="block">Stores the user and root instances when created</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#InstanceExtender(java.lang.Boolean)">InstanceExtender</a></strong>(java.lang.Boolean&nbsp;useRoot)</code>
<div class="block">Create a new InstanceExtender instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#destroy()">destroy</a></strong>()</code>
<div class="block">If you ever need to close a connection no matter how many locks has been added to it, you can use this method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/spazedog/lib/rootfw3/RootFW.html" title="class in com.spazedog.lib.rootfw3">RootFW</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#get()">get</a></strong>()</code>
<div class="block">Get the shared RootFW instance</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#isLocked()">isLocked</a></strong>()</code>
<div class="block">Check whether there is any locks added to the connection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#lock()">lock</a></strong>()</code>
<div class="block">Add a lock to the connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#onDisconnect()">onDisconnect</a></strong>()</code>
<div class="block">This is an internal callback method which get's called whenever an instance get's disconnected from the shell.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html#unlock()">unlock</a></strong>()</code>
<div class="block">Remove the lock on the connection.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="oInstances">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>oInstances</h4>
<pre>protected static&nbsp;<a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.InstanceRootFW.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender.InstanceRootFW</a>[] oInstances</pre>
<div class="block">Stores the user and root instances when created</div>
</li>
</ul>
<a name="mInstance">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mInstance</h4>
<pre>protected&nbsp;java.lang.Integer mInstance</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InstanceExtender(java.lang.Boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InstanceExtender</h4>
<pre>public&nbsp;InstanceExtender(java.lang.Boolean&nbsp;useRoot)</pre>
<div class="block">Create a new InstanceExtender instance. This will also create a new RootFW instance, if this has not already been done, and connect to the shell.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>useRoot</code> - Whether to use a root shell or a regular user shell</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onDisconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDisconnect</h4>
<pre>protected static&nbsp;void&nbsp;onDisconnect()</pre>
<div class="block">This is an internal callback method which get's called whenever an instance get's disconnected from the shell. This is used to remove the instance from the static container in order to avoid storing unused instances</div>
</li>
</ul>
<a name="get()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../../com/spazedog/lib/rootfw3/RootFW.html" title="class in com.spazedog.lib.rootfw3">RootFW</a>&nbsp;get()</pre>
<div class="block">Get the shared RootFW instance</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The stored RootFW instance</dd></dl>
</li>
</ul>
<a name="lock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;<a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender</a>&nbsp;lock()</pre>
<div class="block">Add a lock to the connection. This will make sure that the connection cannot be closed until the connection is unlocked()</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>This instance</dd></dl>
</li>
</ul>
<a name="unlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;<a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.html" title="class in com.spazedog.lib.rootfw3.extenders">InstanceExtender</a>&nbsp;unlock()</pre>
<div class="block">Remove the lock on the connection. Note that although you remove this lock, others might also have a lock added to the connection. These must also be removed in order to close the connection.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>This instance</dd></dl>
</li>
</ul>
<a name="isLocked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>public&nbsp;java.lang.Boolean&nbsp;isLocked()</pre>
<div class="block">Check whether there is any locks added to the connection</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>True</code> if there is locks added</dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block">If you ever need to close a connection no matter how many locks has been added to it, you can use this method. It will remove all of the locks and force close the connection.
 <br />
 Note that this could provide issues if other methods are using this connection.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstanceExtender.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/spazedog/lib/rootfw3/extenders/FileExtender.FileData.html" title="class in com.spazedog.lib.rootfw3.extenders"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/spazedog/lib/rootfw3/extenders/InstanceExtender.InstanceRootFW.html" title="class in com.spazedog.lib.rootfw3.extenders"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/spazedog/lib/rootfw3/extenders/InstanceExtender.html" target="_top">Frames</a></li>
<li><a href="InstanceExtender.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
